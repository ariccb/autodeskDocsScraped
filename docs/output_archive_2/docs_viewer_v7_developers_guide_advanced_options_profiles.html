
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Using Profile APIs | Viewer | Autodesk Platform Services</title>
  <link rel="stylesheet" href="../../styles.css">
</head>
<body>
  <div id="nav-sidebar"></div>
  <div id="content">
    <div id="breadCrumbs"><div class="breadcrumb-container"><div class="breadcrumb"><a data-test-id="documentation-breadcrumb-link" data-external-target="documentation-breadcrumb-link" class="breadcrumb-url" href="/developer/documentation">Documentation</a><span class="breadcrumb-separator"> / </span></div><div class="breadcrumb"><a data-test-id="documentation-breadcrumb-link" data-external-target="documentation-breadcrumb-link" class="breadcrumb-url" href="/en/docs/viewer/v7">Viewer</a><span class="breadcrumb-separator"> / </span></div><div class="breadcrumb"><a data-test-id="documentation-breadcrumb-link" data-external-target="documentation-breadcrumb-link" class="breadcrumb-url" href="/en/docs/viewer/v7/developers_guide">Developer's Guide</a></div></div></div>
<meta name="sphinx-version" content="5.0.0">
            
  <section id="using-profile-apis">
<h1>Using Profile APIs</h1>
<p>The Profile API lets you specify the <em>preference</em> values and <em>extensions</em> that you want to load or unload in the Viewer.</p>
<dl class="docutils">
<dt>This tutorial covers the following:</dt><dd><ul class="simple">
<li>Using built-in profiles to apply settings to the Viewer.</li>
<li>Creating a custom profile.</li>
<li>Registering custom profiles with a specific file type.</li>
<li>Overriding the default profile with a custom one.</li>
</ul>
</dd>
</dl>
<section id="using-built-in-profiles">
<a href="#using-built-in-profiles"><h2>Using built-in profiles</h2></a>
<p>The Viewer provides built-in, ready-to-use profiles that offer the same user experience as desktop products such as Navisworks and Revit.</p>
<p>For more information, see <a class="reference external" href="/en/docs/viewer/v7/reference/ProfileSettings">ProfileSettings</a></p>
<p>The following snippet shows how to use the Navisworks profile.</p>
<div class="highlight-javascript notranslate x-snippet-block x-snippet-block--height-default margin-bottom-3"><div class="highlight snippet-container margin-bottom-0 pad-bottom-0">
          <div class="highlight">
            <button class="copy-button" onclick="copyToClipboard(this)">Copy</button>
            <pre><code><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">profileSettings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Autodesk</span><span class="p">.</span><span class="nx">Viewing</span><span class="p">.</span><span class="nx">ProfileSettings</span><span class="p">.</span><span class="nx">Navis</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">profile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Autodesk</span><span class="p">.</span><span class="nx">Viewing</span><span class="p">.</span><span class="nx">Profile</span><span class="p">(</span><span class="nx">profileSettings</span><span class="p">);</span>
<span class="nx">viewer</span><span class="p">.</span><span class="nx">setProfile</span><span class="p">(</span><span class="nx">profile</span><span class="p">);</span>
</code></pre>
          </div>
        </div><div class="clipboard-container" data-original-title="" title=""><i class="fui-icon fui-icon-copy clipboard-icon"></i></div>
</div>
<p>The following snippet shows how to use the AEC profile.</p>
<div class="highlight-javascript notranslate x-snippet-block x-snippet-block--height-default margin-bottom-3"><div class="highlight snippet-container margin-bottom-0 pad-bottom-0">
          <div class="highlight">
            <button class="copy-button" onclick="copyToClipboard(this)">Copy</button>
            <pre><code><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">profileSettings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Autodesk</span><span class="p">.</span><span class="nx">Viewing</span><span class="p">.</span><span class="nx">ProfileSettings</span><span class="p">.</span><span class="nx">AEC</span><span class="p">;</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">profile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Autodesk</span><span class="p">.</span><span class="nx">Viewing</span><span class="p">.</span><span class="nx">Profile</span><span class="p">(</span><span class="nx">profileSettings</span><span class="p">);</span>
<span class="nx">viewer</span><span class="p">.</span><span class="nx">setProfile</span><span class="p">(</span><span class="nx">profile</span><span class="p">);</span>
</code></pre>
          </div>
        </div><div class="clipboard-container" data-original-title="" title=""><i class="fui-icon fui-icon-copy clipboard-icon"></i></div>
</div>
</section>
<section id="create-a-custom-profile">
<a href="#create-a-custom-profile"><h2>Create a custom profile</h2></a>
<p>You can also set a custom profile. A custom profile can override existing preferences, load or unload specific extensions, and set preferences to be persistent.</p>
<p>For more information, see <a class="reference external" href="en/docs/viewer/v7/reference/Viewing/Profile">Profile</a></p>
<p>The following snippet overrides a couple of preferences, adds new preferences, unloads two extensions, and sets some preferences to be persistent between browser sessions.</p>
<div class="highlight-javascript notranslate x-snippet-block x-snippet-block--height-200 margin-bottom-3"><div class="highlight snippet-container">
          <div class="highlight">
            <button class="copy-button" onclick="copyToClipboard(this)">Copy</button>
            <pre><code><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">customProfileSettings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">settings</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">reverseMouseZoomDir</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="c1">// override existing</span>
<span class="w">        </span><span class="nx">reverseHorizontalLookDirection</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="c1">// override existing</span>
<span class="w">        </span><span class="nx">customSettingOne</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="c1">// new preference</span>
<span class="w">        </span><span class="nx">customSettingTwo</span><span class="o">:</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span><span class="w"> </span><span class="c1">// new preference</span>
<span class="w">        </span><span class="nx">customSettingThree</span><span class="o">:</span><span class="w"> </span><span class="s1">'test'</span><span class="w"> </span><span class="c1">// new preference</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nx">extensions</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">unload</span><span class="o">:</span><span class="w"> </span><span class="p">[</span><span class="s1">'Autodesk.ViewCubeUi'</span><span class="p">,</span><span class="w"> </span><span class="s1">'Autodesk.BimWalk'</span><span class="p">]</span>
<span class="w">    </span><span class="p">}</span>
<span class="p">};</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">customProfile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Autodesk</span><span class="p">.</span><span class="nx">Viewing</span><span class="p">.</span><span class="nx">Profile</span><span class="p">(</span><span class="nx">customProfileSettings</span><span class="p">);</span>
<span class="c1">// Updates viewer settings encapsulated witihn a Profile.</span>
<span class="c1">// This method will also load and unload extensions referenced by the Profile.</span>
<span class="nx">viewer</span><span class="p">.</span><span class="nx">setProfile</span><span class="p">(</span><span class="nx">customProfile</span><span class="p">);</span>
</code></pre>
          </div>
        <div class="snippet-toggle js-snippet-toggle">Show More</div></div><div class="clipboard-container" data-original-title="" title=""><i class="fui-icon fui-icon-copy clipboard-icon"></i></div>
</div>
<p>Custom profiles can be cloned from existing profile settings. In the following snippet, the profile settings are cloned from the AEC profile settings.
In addition to the AEC profile settings, the properties panel opens when selecting an object and progressive rendering is turned off.</p>
<div class="highlight-javascript notranslate x-snippet-block x-snippet-block--height-200 margin-bottom-3"><div class="highlight snippet-container">
          <div class="highlight">
            <button class="copy-button" onclick="copyToClipboard(this)">Copy</button>
            <pre><code><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">aecProfileSettings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Autodesk</span><span class="p">.</span><span class="nx">Viewing</span><span class="p">.</span><span class="nx">ProfileSettings</span><span class="p">.</span><span class="nx">AEC</span><span class="p">;</span>
<span class="c1">// The custom profile settings are cloned from the AEC profile settings.</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">customProfileSettings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">Autodesk</span><span class="p">.</span><span class="nx">Viewing</span><span class="p">.</span><span class="nx">ProfileSettings</span><span class="p">.</span><span class="nx">clone</span><span class="p">(</span><span class="nx">aecProfileSettings</span><span class="p">);</span>
<span class="c1">// Turn off progressive rendering</span>
<span class="nx">customProfileSettings</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">progressiveRendering</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">false</span><span class="p">;</span>
<span class="c1">// Open the properties panel when selecting an object.</span>
<span class="nx">customProfileSettings</span><span class="p">.</span><span class="nx">settings</span><span class="p">.</span><span class="nx">openPropertiesOnSelect</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">customProfile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Autodesk</span><span class="p">.</span><span class="nx">Viewing</span><span class="p">.</span><span class="nx">Profile</span><span class="p">(</span><span class="nx">customProfileSettings</span><span class="p">);</span>
<span class="nx">viewer</span><span class="p">.</span><span class="nx">setProfile</span><span class="p">(</span><span class="nx">customProfile</span><span class="p">);</span>
</code></pre>
          </div>
        <div class="snippet-toggle js-snippet-toggle">Show More</div></div><div class="clipboard-container" data-original-title="" title=""><i class="fui-icon fui-icon-copy clipboard-icon"></i></div>
</div>
</section>
<section id="registering-a-custom-profile-for-a-specific-file-type">
<a href="#registering-a-custom-profile-for-a-specific-file-type"><h2>Registering a custom profile for a specific file type</h2></a>
<p>Use the ProfileManager (<code class="docutils literal notranslate"><span class="pre">viewer.profileManager</span></code>) to register a custom profile with a specific file type.</p>
<p>For more information, see <a class="reference external" href="en/docs/viewer/v7/reference/Viewing/ProfileManager">ProfileManager</a></p>
<p>To use the registered file profiles be sure to set the following config flag:</p>
<div class="highlight-javascript notranslate x-snippet-block x-snippet-block--height-default margin-bottom-3"><div class="highlight snippet-container margin-bottom-0 pad-bottom-0">
          <div class="highlight">
            <button class="copy-button" onclick="copyToClipboard(this)">Copy</button>
            <pre><code><span></span><span class="kd">const</span><span class="w"> </span><span class="nx">config3d</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">useFileProfile</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">};</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">viewer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">Autodesk</span><span class="p">.</span><span class="nx">Viewing</span><span class="p">.</span><span class="nx">GuiViewer3D</span><span class="p">(</span><span class="nx">viewerElement</span><span class="p">,</span><span class="w"> </span><span class="nx">config3d</span><span class="p">);</span>
</code></pre>
          </div>
        </div><div class="clipboard-container" data-original-title="" title=""><i class="fui-icon fui-icon-copy clipboard-icon"></i></div>
</div>
<p>During initialization, register the custom profile with the <cite>dwf</cite> file type.</p>
<div class="highlight-javascript notranslate x-snippet-block x-snippet-block--height-200 margin-bottom-3"><div class="highlight snippet-container">
          <div class="highlight">
            <button class="copy-button" onclick="copyToClipboard(this)">Copy</button>
            <pre><code><span></span><span class="nx">Autodesk</span><span class="p">.</span><span class="nx">Viewing</span><span class="p">.</span><span class="nx">Initializer</span><span class="p">(</span><span class="nx">initOptions</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">profileSettings</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="s1">'DWF'</span><span class="p">,</span>
<span class="w">        </span><span class="nx">settings</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">            </span><span class="c1">// Turn off progressive rendering</span>
<span class="w">            </span><span class="nx">progressiveRendering</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">            </span><span class="c1">// Open the properties panel when selecting an object.</span>
<span class="w">            </span><span class="nx">openPropertiesOnSelect</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="nx">viewer</span><span class="p">.</span><span class="nx">profileManager</span><span class="p">.</span><span class="nx">registerProfile</span><span class="p">(</span><span class="s1">'dwf'</span><span class="p">,</span><span class="w"> </span><span class="nx">profileSettings</span><span class="p">);</span>
<span class="w">    </span><span class="nx">viewer</span><span class="p">.</span><span class="nx">start</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// The urn should be a bubble node derived from a dwf model.</span>
<span class="w">    </span><span class="nx">Autodesk</span><span class="p">.</span><span class="nx">Viewing</span><span class="p">.</span><span class="nx">Document</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="nx">urn</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">lmvDocument</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">geometryItems</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">lmvDocument</span><span class="p">.</span><span class="nx">getRoot</span><span class="p">().</span><span class="nx">search</span><span class="p">({</span><span class="w"> </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">'geometry'</span><span class="w"> </span><span class="p">});</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">defaultItem</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">geometryItems</span><span class="p">[</span><span class="mf">0</span><span class="p">];</span>
<span class="w">        </span><span class="nx">viewer</span><span class="p">.</span><span class="nx">loadDocumentNode</span><span class="p">(</span><span class="nx">lmvDocument</span><span class="p">,</span><span class="w"> </span><span class="nx">defaultItem</span><span class="p">,</span><span class="w"> </span><span class="nx">config3d</span><span class="p">);</span>
<span class="w">    </span><span class="p">});</span>
<span class="p">});</span>
</code></pre>
          </div>
        <div class="snippet-toggle js-snippet-toggle">Show More</div></div><div class="clipboard-container" data-original-title="" title=""><i class="fui-icon fui-icon-copy clipboard-icon"></i></div>
</div>
</section>
<section id="use-custom-profile-regardless-of-the-file-type-loaded">
<a href="#use-custom-profile-regardless-of-the-file-type-loaded"><h2>Use custom profile regardless of the file type loaded</h2></a>
<p>You can make a custom profile the default for any file type. The following code sample demonstrates how to override the default profile with the custom profile.</p>
<div class="highlight-javascript notranslate x-snippet-block x-snippet-block--height-default margin-bottom-3"><div class="highlight snippet-container margin-bottom-0 pad-bottom-0">
          <div class="highlight">
            <button class="copy-button" onclick="copyToClipboard(this)">Copy</button>
            <pre><code><span></span><span class="nx">viewer</span><span class="p">.</span><span class="nx">profileManager</span><span class="p">.</span><span class="nx">registerProfile</span><span class="p">(</span><span class="s1">'default'</span><span class="p">,</span><span class="w"> </span><span class="nx">profileSettings</span><span class="p">);</span>
</code></pre>
          </div>
        </div><div class="clipboard-container" data-original-title="" title=""><i class="fui-icon fui-icon-copy clipboard-icon"></i></div>
</div>
</section>
<section id="restore-default-profile">
<a href="#restore-default-profile"><h2>Restore default profile</h2></a>
<p>The following snippet restores the default profile available in the Viewer.</p>
<div class="highlight-javascript notranslate x-snippet-block x-snippet-block--height-default margin-bottom-3"><div class="highlight snippet-container margin-bottom-0 pad-bottom-0">
          <div class="highlight">
            <button class="copy-button" onclick="copyToClipboard(this)">Copy</button>
            <pre><code><span></span><span class="c1">// Get the registered default profile</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">defaultProfile</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">viewer</span><span class="p">.</span><span class="nx">profileManager</span><span class="p">.</span><span class="nx">getProfileOrDefault</span><span class="p">();</span>
<span class="c1">// Set the default profile</span>
<span class="nx">viewer</span><span class="p">.</span><span class="nx">setProfile</span><span class="p">(</span><span class="nx">defaultProfile</span><span class="p">);</span>
</code></pre>
          </div>
        </div><div class="clipboard-container" data-original-title="" title=""><i class="fui-icon fui-icon-copy clipboard-icon"></i></div>
</div>
</section>
</section>


            <div class="clearer"></div>
          
  </div>
  <script src="../../script.js"></script>
</body>
</html>
