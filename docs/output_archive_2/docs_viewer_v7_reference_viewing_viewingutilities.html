
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ViewingUtilities | Viewer | Autodesk Platform Services</title>
  <link rel="stylesheet" href="../../styles.css">
</head>
<body>
  <div id="nav-sidebar"></div>
  <div id="content">
    <div id="breadCrumbs"><div class="breadcrumb-container"><div class="breadcrumb"><a data-test-id="documentation-breadcrumb-link" data-external-target="documentation-breadcrumb-link" class="breadcrumb-url" href="/developer/documentation">Documentation</a><span class="breadcrumb-separator"> / </span></div><div class="breadcrumb"><a data-test-id="documentation-breadcrumb-link" data-external-target="documentation-breadcrumb-link" class="breadcrumb-url" href="/en/docs/viewer/v7">Viewer</a><span class="breadcrumb-separator"> / </span></div><div class="breadcrumb"><a data-test-id="documentation-breadcrumb-link" data-external-target="documentation-breadcrumb-link" class="breadcrumb-url" href="/en/docs/viewer/v7/reference">Reference Guide</a></div></div></div><div class="title-category">Autodesk.Viewing</div>
<meta name="sphinx-version" content="5.0.0">
            
  <meta name="edit-url" content="https://git.autodesk.com/A360/firefly.js/edit/master/src/tools/ViewingUtilities.js">
<section id="viewingutilities">
<h1>ViewingUtilities</h1>
<section id="new-viewingutilities-viewerimplin-autocam-navapi">
<a href="#new-viewingutilities-viewerimplin-autocam-navapi"><h2>new ViewingUtilities(viewerImplIn, autocam, navapi)</h2></a>
<p>Variety of utilities convenient to navigation and tool development.</p>
<p>This class is instantiated internally and made available to all registered interaction tools via their “utilities” property.</p>
<section id="parameters">
<h3>Parameters</h3>
<div class="table-section"><table><thead></thead><tbody><tr><td><span class="name">viewerImplIn</span><span class="required">*</span><div class="type">object</div></td><td>The viewer implementation object.</td></tr><tr><td><span class="name">autocam</span><span class="required">*</span><div class="type">object</div></td><td>The Autocam interface object.</td></tr><tr><td><span class="name">navapi</span><span class="required">*</span><div class="type">object</div></td><td>The Navigation interface object.</td></tr></tbody></table><div class="text-required">* Required</div></div>
</section>
</section>
</section>
<section id="methods">
<h1>Methods</h1>
<section id="transitionview-pos-coi-fov-up-worldup-reorient-pivot">
<a href="#transitionview-pos-coi-fov-up-worldup-reorient-pivot"><h2>transitionView(pos, coi, fov, up, worldUp, reorient, pivot)</h2></a>
<p>This method triggers a camera view transition as specified by the parameters.</p>
<section id="id1">
<h3>Parameters</h3>
<div class="table-section"><table><thead></thead><tbody><tr><td><span class="name">pos</span><span class="required">*</span><div class="type">THREE.Vector3</div></td><td>The new world space position of the camera.</td></tr><tr><td><span class="name">coi</span><span class="required">*</span><div class="type">THREE.Vector3</div></td><td>The new center of interest (look at point).</td></tr><tr><td><span class="name">fov</span><span class="required">*</span><div class="type">number</div></td><td>The new field of view for the camera in degrees.</td></tr><tr><td><span class="name">up</span><span class="required">*</span><div class="type">THREE.Vector3</div></td><td>The new camera up direction.</td></tr><tr><td><span class="name">worldUp</span><span class="required">*</span><div class="type">THREE.Vector3</div></td><td>The new world up direction.</td></tr><tr><td><span class="name">reorient</span><span class="required">*</span><div class="type">boolean</div></td><td>If true the given camera up parameter is ignored and a new up direction will be calculated to be aligned with the given world up direction.</td></tr><tr><td><span class="name">pivot</span><span class="required">*</span><div class="type">THREE.Vector3</div></td><td>The new pivot point.</td></tr></tbody></table><div class="text-required">* Required</div></div>
</section>
</section>
<section id="gohome">
<a href="#gohome"><h2>goHome()</h2></a>
<p>This method triggers a camera view transition to the registered home view for the current scene.</p>
</section>
<section id="gethitpoint-x-y">
<a href="#gethitpoint-x-y"><h2>getHitPoint(x, y)</h2></a>
<p>This method performs a hit test with the current model using a ray cast from the given screen coordinates.</p>
<section id="id2">
<h3>Parameters</h3>
<div class="table-section"><table><thead></thead><tbody><tr><td><span class="name">x</span><span class="required">*</span><div class="type">number</div></td><td>The normalized screen x coordinate in [0, 1].</td></tr><tr><td><span class="name">y</span><span class="required">*</span><div class="type">number</div></td><td>The normalized screen y coordinate in [0, 1].</td></tr></tbody></table><div class="text-required">* Required</div></div>
</section>
<section id="returns">
<h3>Returns</h3>
<div class="table-section"><table><thead><tr><th>type</th><th>description</th></tr></thead><tbody>
<tr class="row-even"><td>THREE.Vector3</td>
<td>The world space hit position or null if no object was hit.</td>
</tr>
</tbody></table></div>
</section>
</section>
<section id="activatepivot-fadeit">
<a href="#activatepivot-fadeit"><h2>activatePivot(fadeIt)</h2></a>
<p>This method activates the in scene pivot indicator. The pivot is positioned at the current camera’s pivot point.</p>
<section id="id3">
<h3>Parameters</h3>
<div class="table-section"><table><thead></thead><tbody><tr><td><span class="name">fadeIt</span><span class="required">*</span><div class="type">boolean</div></td><td>If true the indicator will be displayed and then fade away after a short period.</td></tr></tbody></table><div class="text-required">* Required</div></div>
</section>
</section>
<section id="pivotactive-state-fadeit">
<a href="#pivotactive-state-fadeit"><h2>pivotActive(state, fadeIt)</h2></a>
<p>This method changes the display state of the in scene pivot indicator. If the current scene is 2D this method has no effect.</p>
<section id="id4">
<h3>Parameters</h3>
<div class="table-section"><table><thead></thead><tbody><tr><td><span class="name">state</span><span class="required">*</span><div class="type">boolean</div></td><td>The requested display state for the indicator.</td></tr><tr><td><span class="name">fadeIt</span><span class="required">*</span><div class="type">boolean</div></td><td>If true and “state” is also true, the indicator will be displayed and then fade away after a short period.</td></tr></tbody></table><div class="text-required">* Required</div></div>
</section>
</section>
<section id="pivotupdate">
<a href="#pivotupdate"><h2>pivotUpdate()</h2></a>
<p>Invoke this method to refresh the pivot indicator and continue its fading action if required.</p>
</section>
<section id="setpivotpoint-newpivot-preserveview-isset">
<a href="#setpivotpoint-newpivot-preserveview-isset"><h2>setPivotPoint(newPivot, preserveView, isset)</h2></a>
<p>Set the current pivot point and pivot set flag. If the pivot indicator is active its position will be updated accordingly. If a temporary pivot was previously applied, its saved state will be cleared.</p>
<section id="id5">
<h3>Parameters</h3>
<div class="table-section"><table><thead></thead><tbody><tr><td><span class="name">newPivot</span><span class="required">*</span><div class="type">THREE.Vector3</div></td><td>The world space position of the new pivot point.</td></tr><tr><td><span class="name">preserveView</span><span class="required">*</span><div class="type">boolean</div></td><td>If false the camera’s view direction will change to look at the new pivot point. If true the camera’s view will not be changed.</td></tr><tr><td><span class="name">isset</span><span class="required">*</span><div class="type">boolean</div></td><td>The new state of the pivot set flag.</td></tr></tbody></table><div class="text-required">* Required</div></div>
</section>
</section>
<section id="savepivot-name">
<a href="#savepivot-name"><h2>savePivot(name)</h2></a>
<p>Save a copy of the current pivot point and pivot set flag.</p>
<section id="id6">
<h3>Parameters</h3>
<div class="table-section"><table><thead></thead><tbody><tr><td><span class="name">name</span><span class="required">*</span><div class="type">string</div></td><td>Optional unique name of the saved location.</td></tr></tbody></table><div class="text-required">* Required</div></div>
</section>
</section>
<section id="restorepivot-name">
<a href="#restorepivot-name"><h2>restorePivot(name)</h2></a>
<p>Restore the saved copy of the current pivot point and pivot set flag. Once restored the saved value is erased.</p>
<section id="id7">
<h3>Parameters</h3>
<div class="table-section"><table><thead></thead><tbody><tr><td><span class="name">name</span><span class="required">*</span><div class="type">string</div></td><td>Optional unique name of the saved location.</td></tr></tbody></table><div class="text-required">* Required</div></div>
</section>
</section>
<section id="settemporarypivot-newpivot">
<a href="#settemporarypivot-newpivot"><h2>setTemporaryPivot(newPivot)</h2></a>
<p>Allows the caller to save the current pivot and replace it with a new location. If while the temporary pivot is active a new pivot is set via the setPivotPoint method, the saved pivot will be cleared to avoid restoring an out of date pivot location.</p>
<section id="id8">
<h3>Parameters</h3>
<div class="table-section"><table><thead></thead><tbody><tr><td><span class="name">newPivot</span><span class="required">*</span><div class="type">THREE.Vector3</div></td><td>The new pivot to be assigned or null to clear any previously saved pivot.</td></tr></tbody></table><div class="text-required">* Required</div></div>
</section>
</section>
<section id="removetemporarypivot">
<a href="#removetemporarypivot"><h2>removeTemporaryPivot()</h2></a>
<p>Restore a pivot value that was saved by a call to setTemporary Pivot.</p>
</section>
<section id="setpivotsize-scale">
<a href="#setpivotsize-scale"><h2>setPivotSize(scale)</h2></a>
<p>Changes the pivot graphic size.</p>
<section id="id9">
<h3>Parameters</h3>
<div class="table-section"><table><thead></thead><tbody><tr><td><span class="name">scale</span><span class="required">*</span><div class="type">number</div></td><td>Default size value is 1</td></tr></tbody></table><div class="text-required">* Required</div></div>
</section>
</section>
<section id="setpivotcolor-color-opacity">
<a href="#setpivotcolor-color-opacity"><h2>setPivotColor(color, opacity)</h2></a>
<p>Change pivot color and opacity. Example, to get red 100% solid (non-transparent) use setPivotColor(0xFF0000, 1)</p>
<section id="id10">
<h3>Parameters</h3>
<div class="table-section"><table><thead></thead><tbody><tr><td><span class="name">color</span><span class="required">*</span><div class="type">number</div></td><td>RBG Hex color.</td></tr><tr><td><span class="name">opacity</span><div class="type">number</div></td><td>Opacity value from 0 (transparent) to 1 (opaque).</td></tr></tbody></table><div class="text-required">* Required</div></div>
</section>
</section>
<section id="getboundingbox-ignoreselection">
<a href="#getboundingbox-ignoreselection"><h2>getBoundingBox(ignoreSelection)</h2></a>
<p>Return the bounding box of the current model or model selection.</p>
<section id="id11">
<h3>Parameters</h3>
<div class="table-section"><table><thead></thead><tbody><tr><td><span class="name">ignoreSelection</span><span class="required">*</span><div class="type">boolean</div></td><td>If true the current selection is ignored and the model bounds is returned.</td></tr></tbody></table><div class="text-required">* Required</div></div>
</section>
<section id="id12">
<h3>Returns</h3>
<div class="table-section"><table><thead><tr><th>type</th><th>description</th></tr></thead><tbody>
<tr class="row-even"><td>THREE.Box3</td>
<td></td>
</tr>
</tbody></table></div>
</section>
</section>
<section id="fittoview-immediate">
<a href="#fittoview-immediate"><h2>fitToView(immediate)</h2></a>
<p>Request a camera transition to fit the current model or model selection into the view frustum.</p>
<section id="id13">
<h3>Parameters</h3>
<div class="table-section"><table><thead></thead><tbody><tr><td><span class="name">immediate</span><span class="required">*</span><div class="type">boolean</div></td><td>If true the transition will be immediate, otherwise animated over a short time period.</td></tr></tbody></table><div class="text-required">* Required</div></div>
</section>
</section>
</section>


            <div class="clearer"></div>
          
  </div>
  <script src="../../script.js"></script>
</body>
</html>
